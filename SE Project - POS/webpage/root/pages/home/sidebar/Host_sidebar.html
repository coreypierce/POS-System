<res src="Host_sidebar.less" type="css" />

<div class="host-sidebar">
	<div class="host-sidebar-suggestion">
		<div>
			<h4> # of Guests </h4>
			<input type="number" id="suggestion-count">
		</div>
	
		<button onclick="suggestSection()">
			Suggest <br/> Section
		</button>
	</div>

	<div class="host-sidebar-sections">
		<div class="host-sidebar-sections_shadow"> </div>
		<span class="host-sidebar-sections_header"> Section </span>
		<span class="host-sidebar-sections_header"> Count </span>
	
	    
	</div>
	
	<import src="common/clock.html" />
</div>

<script>
	function suggestSection() {
		
	}
	
	function queryCounts() {
		Request.ajax({
			url: "/api/host/count",
			method: "POST",
			
			done: function(data, status, xhr) {
				if(status == "success") {
					var group = $(".host-sidebar-sections");
					group.find("span:not(.host-sidebar-sections_header)").remove();
					
					for(var section of data.counts) {
						group
							.append($("<span />").text("Section #" + section.section_number))
							.append($("<span />").text(section.count))
					}
				}
			}
		});
	}
	
	queryCounts();
</script>