<html>
	<import src="/common/base_head.html" title="Login" />
	
	<res src="login.less" type="css" />
	<res src="/common/jquery-3.4.1.min.js" type="js" />
	<res src="/common/sjcl.min.js" type="js" />
	
	<res src="login.js" type="js" />
	
	<value name="redirect_url" default="/" />
	
<body>
	<section class="login-wrapper">
		<header class="login-header">
			<h2> 
				<div id="date"></div>
			    <div id="time"></div>
			</h2>
			
		</header>
	
		<div class="login-input_wrapper">
			<input type="text" id="login_username" placeholder="Employee ID"/>
		</div>
		
		<div class="login-input_wrapper">
			<input type="password" id="login_password" placeholder="Password"/>
		</div>
		
		<div class="login-button_wrapper">
			<button onclick="login()" style="background:#42e619">
				Login
			</button>
		</div>
	</section>
	
	<script type="text/javascript">
		function login() {
			Login.submit($("#login_username").val(), $("#login_password").val(), 
				function() {
					window.location.replace("{!redirect_url}");
				},
				
				function() {
					alert("Login Failed!");
					$("#login_password").val("");
				});
		}
	</script>
	
	<script>
	//gets date and time and updates every second
		var date = $("#date");
    	var time = $("#time");
    	
    	function update_time(){
    		var uDate = new Date();
    		date.text(uDate.toLocaleDateString());
    		time.text(uDate.toLocaleTimeString());
    	}

   		setInterval(update_time, 1000);
   		update_time();
   		
	</script>
</body>
</html>